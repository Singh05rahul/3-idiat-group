<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Realistic Romantic Notebook üíñ</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: radial-gradient(circle at bottom, #1a0a1a 0%, #000 100%);
  font-family: 'Poppins', sans-serif;
  perspective: 2500px;
  overflow: hidden;
}

/* Fireworks Canvas */
canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 0;
}

/* Notebook Container */
.notebook {
  position: relative;
  width: 420px;
  height: 560px;
  background: #3b2c2c;
  border-radius: 20px;
  box-shadow: 0 25px 60px rgba(0,0,0,0.7);
  overflow: hidden;
  transform-style: preserve-3d;
  z-index: 5;
}

/* Spiral Binding */
.spiral {
  position: absolute;
  left: 10px; top: 20px; bottom: 20px;
  width: 30px;
  background: repeating-linear-gradient(to bottom, #333 0 4px, transparent 4px 20px);
  border-radius: 5px;
  box-shadow: inset 0 0 10px #000;
  z-index: 10;
}

/* Pages Container */
.pages {
  position: absolute;
  left: 50px; top: 20px; right: 20px; bottom: 20px;
  transform-style: preserve-3d;
  cursor: grab;
}

/* Individual Page */
.page {
  position: absolute;
  width: 100%; height: 100%;
  background: #fff0f0;
  border-radius: 15px;
  box-shadow: 0 0 10px rgba(0,0,0,0.2), 0 10px 20px rgba(0,0,0,0.3);
  transform-origin: left center;
  backface-visibility: hidden;
  transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border-right: 2px solid #ffd6e0; /* page thickness effect */
}

/* Curved page shadow effect */
.page::after {
  content:'';
  position:absolute;
  top:0; right:0; bottom:0;
  width:15px;
  background: linear-gradient(to right, rgba(0,0,0,0.0), rgba(0,0,0,0.2));
  border-radius:0 15px 15px 0;
}

/* Page Image */
.page img {
  width: 90%;
  height: 70%;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: 0 0 25px rgba(255,77,153,0.4);
  transition: transform 0.3s ease;
}

/* Page Caption */
.page p {
  margin-top: 15px;
  font-size: 18px;
  color: #5c2e2e;
  font-weight: 500;
  text-align: center;
  text-shadow: 1px 1px 3px #ff80b3;
}

/* Thank You Page */
.thankyou {
  font-size: 30px;
  color: #ff4d99;
  font-weight: bold;
  text-align: center;
  animation: pulse 2s infinite alternate;
}
@keyframes pulse {
  0% { transform: scale(0.95); opacity:0.7; }
  100% { transform: scale(1.1); opacity:1; }
}

/* Buttons */
.buttons {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 25px;
  z-index: 15;
}

button {
  background: #ff80b3;
  border:none;
  color:white;
  padding:12px 20px;
  border-radius:30px;
  cursor:pointer;
  font-size:16px;
  font-weight:600;
  box-shadow:0 5px 20px rgba(0,0,0,0.3);
  transition:0.3s;
}

button:hover { background:#ff3385; transform:scale(1.1);}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="notebook" id="notebook">
  <div class="spiral"></div>
  <div class="pages" id="pages"></div>
  <div class="buttons">
    <button id="prevBtn">‚¨Ö Prev</button>
    <button id="nextBtn">Next ‚û°</button>
  </div>
</div>

<script>
// ===== FIREWORKS =====
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let fireworks = [], particles = [];

class Firework {
  constructor(x, y, targetY, color) {
    this.x=x; this.y=y; this.targetY=targetY; this.color=color;
    this.speed=4; this.trail=[]; this.exploded=false;
  }
  update(){
    this.trail.push({x:this.x,y:this.y});
    if(this.trail.length>10) this.trail.shift();
    this.y-=this.speed;
    if(this.y<=this.targetY){ this.explode(); this.exploded=true; }
    this.draw();
  }
  draw(){
    ctx.beginPath();
    ctx.moveTo(this.x,this.y);
    for(let t of this.trail) ctx.lineTo(t.x,t.y);
    ctx.strokeStyle=this.color; ctx.stroke();
  }
  explode(){ for(let i=0;i<60;i++) particles.push(new Particle(this.x,this.y,this.color)); }
}

class Particle {
  constructor(x,y,color){
    this.x=x; this.y=y; this.color=color;
    this.radius=Math.random()*2+1; this.speed=Math.random()*5+1;
    this.angle=Math.random()*Math.PI*2; this.alpha=1;
  }
  update(){
    this.x += Math.cos(this.angle)*this.speed;
    this.y += Math.sin(this.angle)*this.speed+0.3;
    this.alpha -= 0.015; this.draw();
  }
  draw(){
    ctx.globalAlpha=this.alpha;
    ctx.fillStyle=this.color;
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.radius,0,Math.PI*2);
    ctx.fill();
    ctx.globalAlpha=1;
  }
}

function animateFireworks(){
  ctx.fillStyle="rgba(0,0,0,0.2)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  fireworks.forEach((f,i)=>{f.update(); if(f.exploded) fireworks.splice(i,1);});
  particles.forEach((p,i)=>{p.update(); if(p.alpha<=0) particles.splice(i,1);});
  requestAnimationFrame(animateFireworks);
}
function launchFirework(){
  const x=Math.random()*canvas.width;
  const targetY=Math.random()*canvas.height/2;
  const color=`hsl(${Math.random()*360},100%,60%)`;
  fireworks.push(new Firework(x,canvas.height,targetY,color));
}
setInterval(launchFirework,800);
animateFireworks();
window.addEventListener("resize",()=>{canvas.width=window.innerWidth; canvas.height=window.innerHeight;});

// ===== NOTEBOOK =====
const photos=["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg","6.jpg","7.jpg","8.jpg","9.jpg","10.jpg"];
const captions=[
"3 tigada kaam bigada group ‚ù§Ô∏è guyssss üíû",
"Our first beautiful memory samje ... üå∏",
"The day we laughed endlessly üòä",
"Soft talks under the stars ‚ú®",
"My heart‚Äôs favorite smile üíï",
"Every second with you feels right üå∑",
"Our small forever moments üí´",
"Holding hands, silent love üíû",
"Every photo a love story üìñ",
"Thank You For Watching üíñ"
];

let currentPage=0;
const TOTAL_PAGES = photos.length;
const pagesContainer=document.getElementById("pages");

for(let i=0;i<TOTAL_PAGES;i++){
  const page=document.createElement("div");
  page.className="page"; page.style.zIndex=TOTAL_PAGES-i;
  if(i===TOTAL_PAGES-1){
    const msg=document.createElement("div"); msg.className="thankyou"; msg.textContent=captions[i];
    page.appendChild(msg);
  } else {
    const img=document.createElement("img"); img.src=photos[i];
    const p=document.createElement("p"); p.textContent=captions[i];
    page.appendChild(img); page.appendChild(p);
  }
  pagesContainer.appendChild(page);
}

const pages=document.querySelectorAll(".page");

function updatePages(){
  pages.forEach((p,index)=>{
    p.style.transform=index<currentPage? "rotateY(-180deg)":"rotateY(0deg)";
  });
}

// Buttons & keyboard
document.getElementById("nextBtn").addEventListener("click",()=>{
  if(currentPage<TOTAL_PAGES-1) currentPage++;
  updatePages();
});
document.getElementById("prevBtn").addEventListener("click",()=>{
  if(currentPage>0) currentPage--;
  updatePages();
});
document.addEventListener("keydown",(e)=>{
  if(e.key==="ArrowRight" && currentPage<TOTAL_PAGES-1) currentPage++;
  if(e.key==="ArrowLeft" && currentPage>0) currentPage--;
  updatePages();
});

// Drag flipping
let isDragging=false, startX=0;
pagesContainer.addEventListener("mousedown",(e)=>{isDragging=true; startX=e.clientX;});
pagesContainer.addEventListener("mousemove",(e)=>{
  if(!isDragging) return;
  const dx=e.clientX-startX;
  pagesContainer.style.transform=`rotateY(${dx/10}deg)`;
});
pagesContainer.addEventListener("mouseup",(e)=>{
  if(!isDragging) return;
  isDragging=false;
  pagesContainer.style.transform=`rotateY(0deg)`;
  if(e.clientX>startX+50 && currentPage>0) currentPage--;
  else if(e.clientX<startX-50 && currentPage<TOTAL_PAGES-1) currentPage++;
  updatePages();
});
pagesContainer.addEventListener("mouseleave",()=>{if(isDragging)isDragging=false; pagesContainer.style.transform=`rotateY(0deg)`;});

// Zoom In/Out
const notebook=document.getElementById("notebook");
let scale=1;
document.addEventListener("wheel",(e)=>{
  scale+=e.deltaY<0? 0.05:-0.05;
  scale=Math.min(Math.max(scale,0.7),1.5);
  notebook.style.transform=`scale(${scale})`;
});

updatePages();
</script>
</body>
</html>
